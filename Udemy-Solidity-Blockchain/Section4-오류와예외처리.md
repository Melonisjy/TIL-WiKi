## Assert vs. Require

- 솔리디티가 EVM 바이트 코드로 컴파일되고 **assert**와 **require**은 각각 다른 바이트 코드를 가지게 된다.

- 서로 다른 트리거가 바이트 코드로 컴파일된 것을 EVM이 문제로 파악하고 트랜잭션을 종료하게 된다.

### Require

- require(조건문, "error message): assert와 같이 조건문이 false일 때 에러가 발생하는데 보통 에러메시지와 함께 실행된다.

사용자의 입력값을 평가하여 잘못된 게 있으면 사용자는 남은 가스를 반환받고 오류 문자열 또한 반환할 수 있다.

### Require가 발생할 때

- false로 평가되는 무언가를 요구할 때.
- 다른 스마트 계약과 상호작용 하다가 제대로 마무리 되지 않았을 때. (low-level 호출을 제외한)
- 아무 코드도 들어있지 않은 주소와 상호작용 하려고 할 때. (예를 들어 송금하는데 payable이 없을 때)
- 계약이 view 함수나 getter 함수에서 이더를 받거나 전송이 실패할 때.
- 고급 함수인 Address.transfer()이 실패할 때.

### Assert

- **assert(조건문): 조건문이 false이면 에러를 발생시킴. 그러니까 조건문이 틀렸을 때 에러나는 것.**

입력값에 상관없이 정말 예상치 못한 일이 일어났을 때 발생하는데 require과 다르게 가스를 사용자에게 반환하지 않는다.

### Assert가 발생할 때

- 솔리디티 내 스마트 계약 코드상에서 문제가 생겨도 발생한다.
  - 범위를 벗어난 배열에 도달하려 할 때.
  - 0으로 나눗셈할 때.
  - 금액이 음수일 때.
  - 값을 큰 값이나 enum으로 음수로 변환할 때.
  - 내부 함수 유형의 변수를 0으로 초기화 하려 할 때.
  - false로 평가된 assert를 발생시킨 경우.

### Revert

- revert는 특정 조건문없이 revert만 들어가면 즉시 에러를 발생시킨다.
- require과 같이 가스비를 환불 해준다.
- revert를 호출하는 것은 false를 호출하는 것.
